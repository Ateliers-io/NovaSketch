/* --- ENGINEERING PALETTE --- */
:root {
    --neon-primary: #66FCF1;
    --neon-secondary: #45A29E;
    --graphite-surface: #1F2833;
    --alert-coral: #fb7185;
}

/* --- BASE LAYER --- */
.svg-renderer-layer {
    position: absolute;
    top: 0;
    left: 0;
    pointer-events: none; /* Let clicks pass through empty space */
    overflow: visible;
}

/* --- SHAPE GROUPS --- */
.svg-shape-group {
    pointer-events: auto; /* Catch clicks on shapes */
    cursor: pointer;
    transition: opacity 0.2s ease;
    transform-origin: center;
}

/* --- PRIMITIVE ELEMENTS (The actual rect/circle/etc) --- */
.svg-primitive {
    transition: 
        stroke 0.2s ease, 
        stroke-width 0.2s ease, 
        filter 0.2s ease;
    vector-effect: non-scaling-stroke; /* Keep stroke crisp when scaling */
}

/* Hover Effect: Brighten and slight bloom */
.svg-shape-group:hover .svg-primitive {
    filter: drop-shadow(0 0 4px var(--neon-secondary));
    stroke: var(--neon-primary);
}

/* --- SELECTION RETICLE (The "CAD" Box) --- */
.selection-reticle {
    pointer-events: none;
    animation: reticle-lock-on 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.reticle-box {
    fill: none;
    stroke: var(--neon-secondary);
    stroke-width: 1px;
    stroke-dasharray: 4, 4; /* Blueprint style */
    opacity: 0.5;
}

.reticle-corner {
    fill: none;
    stroke: var(--neon-primary);
    stroke-width: 2px;
    filter: drop-shadow(0 0 2px var(--neon-primary));
}

/* Animation: Reticle snaps into place */
@keyframes reticle-lock-on {
    from {
        opacity: 0;
        transform: scale(1.1);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* --- SELECTED STATE --- */
.svg-shape-group.selected .svg-primitive {
    /* Optional: Add a subtle texture to selected filled shapes */
    /* fill: url(#tech-grid);  <-- Uncomment to enable tech texture on selection */
    filter: url(#neon-bloom);
}

/* --- DRAGGING STATE (Optional if you add drag class) --- */
.svg-shape-group.dragging {
    opacity: 0.8;
    cursor: grabbing;
}